fix(critical): Prevent API crash with safe navigation

This commit definitively fixes the recurring 500 Internal Server Error on the `generate-prompt` API.

The root cause was identified as multiple instances of unsafe access to nested properties on potentially undefined objects returned by the AI scene analysis (e.g., `structuredDescription.environment.location`).

This was causing a `TypeError` and crashing the server whenever the AI-generated data structure was incomplete.

The fix involves rewriting all data access within `api/generate-prompt.ts` to use optional chaining (`?.`). This makes the code resilient to malformed or incomplete AI data, preventing server crashes by gracefully handling null or undefined values in the data chain.